<!-- TODO: This controller is NOT NEEDED here. However, I currently don't know
how to link RepositoryController from the client with with the server side.
As soon as I figure this out, this will be removed!! -->
<!-- Css is in theme package!! -->
<section ng-controller="BaseFrameController" class="row">
    <div ng-controller="RepositoryController">
        <div id='populate'>
            <a class="btn btn-default" ng-click=populateSoTags()> Populate SO Tags </a>
            <a class="btn btn-default" ng-click=populateCoOccurrences()> Populate Common Occurrences </a>
            <a class="btn btn-default" ng-click=populateSoUsers()> Populate Stack Overflow Users </a>
            <a class="btn btn-default" ng-click=populateStopWords()> Populate Stop Words</a>
        </div>
        <div id='leftSelectionPanel' class='col-md-3'>
            <br>
            <div id='repositorySearch'>
                <div class='searchBoxInput'>
                    <form class='form-group form-horizontal' ng-submit=queryRepos()>
                      <p>Search for a repository:</p>
                        <input type='text' ng-model="repoUser" name='repoUser'
                          class='form-control col-md-3'
                          placeholder='User or Organization'>
                        <input type='text' ng-model="repositoryName"
                          name='repositoryName' class='form-control col-md-3'
                          placeholder='Repository name'>
                        <input type='text' ng-model="repoDescription"
                          name='repoDescription' class='form-control'
                          placeholder='Any phrase in the repo description'>
                        <input type='text' ng-model="repoReadme"
                          name='repoReadme' class='form-control'
                          placeholder='Any thing in the repository readme'>
                        <button class="btn btn-default"
                          ng-submit="queryRepos()"> Search </button>
                    </form>
                </div>

                <div id='repoSelection' class='scrollable' ng-if='repos'>
                    <button ng-repeat="repo in repos" class="list-group-item"
                      ng-click="saveProject(repo)">
                        {{ repo.name }}
                    </button>
                </div>
            </div>

            <div id='repositoyInfoDisplay' ng-if="selectedRepo.name">
                <h2> {{ selectedRepo.name }}: </h2>

                <h3>Issues: </h3>
                <div id="selectedIssue" class="list-group-item active"
                    ng-if="selectedIssue">
                    {{ selectedIssue.title }}
                </div>
                <div id='issueSelection' class='scrollable list-group'>
                    <button ng-repeat="issue in issues" class="list-group-item"
                      ng-click="getIssueTags(issue)">
                        {{ issue.title }}
                    </button>
                </div>
                <a class="btn btn-default" ng-if="selectedRepo.emptyissues" ng-click=populateRepoResources('issues')> Get All Issues</a>
                <a class="btn btn-default disabled"> Get New Issues</a>

                <h3>Users: </h3>
                <div id="selectedUser" class="list-group-item active"
                    ng-if="selectedUser">
                    {{ selectedUser._id }}
                    <span ng-if="selectedUser.soId" class="badge">SO User</span>
                    <span ng-if="selectedIssue.reporterId == selectedUser._id" class="badge">Reporter</span>
                    <span ng-if="selectedIssue.assigneeId == selectedUser._id" class="badge">Assignee</span>
                </div>
                <div id='userSelection' class='scrollable list-group'>
                    <button ng-repeat="user in users"
                     class='list-group-item'
                      ng-click="displayUserExpertise(user)">
                        {{ user._id }}
                        <span ng-if="user.soId" class="badge">SO User</span>
                        <span ng-if="selectedIssue.reporterId == user._id" class="badge">Reporter</span>
                        <span ng-if="selectedIssue.assigneeId == user._id" class="badge">Assignee</span>
                    </button>
                </div>
                <a class="btn btn-default" ng-if="selectedRepo.emptyusers" ng-click=populateRepoResources('users')> Get All Contributors</a>
                <a class="btn btn-default disabled"> Get New Contributors</a>
            </div>
        </div>
        <div id="expertiseGraphDiv" class="col-md-9">

        </div>
    </div>
</section>

<img id="loadingImage" style='display:none;' src="/baseFrame/assets/img/loading.gif">
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.15/d3.js"></script>
